<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Module 3 - The Flashlight Effect</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 0; background: #111827; color: #e5e7eb; }
    .wrap { max-width: 920px; margin: 0 auto; padding: 20px; }
    .scene { position: relative; height: 350px; border-radius: 12px; background: #1f2937; overflow: hidden; margin-top: 16px; border: 1px solid #374151; }
    .probe { position: absolute; top: 16px; left: 50%; transform: translateX(-50%); width: 86px; height: 40px; border-radius: 0 0 12px 12px; background: #9ca3af; }
    .beam { position: absolute; top: 58px; left: 50%; transform: translateX(-50%); height: 250px; border-radius: 50%; transition: all 0.18s ease; }
    input[type="range"] { width: 100%; }
  </style>
</head>
<body>
  <div class="wrap">
    <h2>Module 3: The Flashlight Effect (Intensity = Power / Area)</h2>

    <label for="power">Power Output (Watts): <strong id="powerValue">20</strong></label>
    <input id="power" type="range" min="5" max="100" value="20" />

    <label for="area">Beam Area (cm²): <strong id="areaValue">20</strong></label>
    <input id="area" type="range" min="5" max="100" value="20" />

    <p id="equation"></p>

    <div class="scene">
      <div class="probe"></div>
      <div id="beam" class="beam"></div>
    </div>
  </div>

  <script>
    const powerInput = document.getElementById('power');
    const areaInput = document.getElementById('area');
    const powerValue = document.getElementById('powerValue');
    const areaValue = document.getElementById('areaValue');
    const equation = document.getElementById('equation');
    const beam = document.getElementById('beam');

    function updateBeam() {
      const power = Number(powerInput.value);
      const area = Number(areaInput.value);
      const intensity = power / area;

      powerValue.textContent = power;
      areaValue.textContent = area;
      equation.textContent = `Intensity = ${power.toFixed(1)} / ${area.toFixed(1)} = ${intensity.toFixed(2)} W/cm²`;

      const width = 80 + area * 2.3;
      const alphaCore = Math.min(0.95, 0.12 + intensity / 8);
      const alphaMid = Math.min(0.8, alphaCore * 0.75);

      beam.style.width = `${width}px`;
      beam.style.background = `radial-gradient(circle,
        rgba(255,255,245,${alphaCore}) 8%,
        rgba(253,224,71,${alphaMid}) 45%,
        rgba(249,115,22,${alphaMid * 0.7}) 72%,
        rgba(107,114,128,0.2) 100%)`;
    }

    powerInput.addEventListener('input', updateBeam);
    areaInput.addEventListener('input', updateBeam);
    updateBeam();
  </script>
</body>
</html>
